"Cash Flows, MLN USD","Dec. 31, 2020","Dec. 31, 2019","Dec. 31, 2018"
Net income (loss),862.0,-775.0,-1063.0
"Depreciation, amortization and impairment",2322.0,2154.0,1901.0
Stock-based compensation,1734.0,898.0,749.0
Amortization of debt discounts and issuance costs,180.0,188.0,159.0
Inventory and purchase commitments write-downs,202.0,193.0,85.0
Loss on disposals of fixed assets,117.0,146.0,162.0
Foreign currency transaction net loss (gain),114.0,-48.0,-2.0
Non-cash interest and other operating activities,228.0,186.0,49.0
Operating cash flow related to repayment of discounted convertible senior notes,0.0,-188.0,0.0
Accounts receivable,-652.0,-367.0,-497.0
Inventory,-422.0,-429.0,-1023.0
Operating lease vehicles,-1072.0,-764.0,-215.0
Prepaid expenses and other current assets,-251.0,-288.0,-82.0
Other non-current assets,-344.0,115.0,-207.0
Accounts payable and accrued liabilities,2102.0,646.0,1797.0
Deferred revenue,321.0,801.0,406.0
Customer deposits,7.0,-58.0,-96.0
Other long-term liabilities,495.0,-5.0,-25.0
Net cash provided by operating activities,5943.0,2405.0,2098.0
"Purchases of property and equipment excluding finance leases, net of sales",-3157.0,-1327.0,-2101.0
"Purchases of solar energy systems, net of sales",-75.0,-105.0,-218.0
Receipt of government grants,123.0,46.0,0.0
Purchase of intangible assets,-10.0,-5.0,0.0
"Business combinations, net of cash acquired",-13.0,-45.0,-18.0
Net cash used in investing activities,-3132.0,-1436.0,-2337.0
"Proceeds from issuances of common stock in public offerings, net of issuance costs",12269.0,848.0,0.0
Proceeds from issuances of convertible and other debt,9713.0,10669.0,6176.0
Repayments of convertible and other debt,-11623.0,-9161.0,-5247.0
Repayments of borrowings issued to related parties,0.0,0.0,-100.0
Collateralized lease repayments,-240.0,-389.0,-559.0
Proceeds from exercises of stock options and other stock issuances,417.0,263.0,296.0
Principal payments on finance leases,-338.0,-321.0,-181.0
Debt issuance costs,-6.0,-37.0,-15.0
Purchase of convertible note hedges,0.0,-476.0,0.0
Proceeds from issuance of warrants,0.0,174.0,0.0
Proceeds from investments by noncontrolling interests in subsidiaries,24.0,279.0,437.0
Distributions paid to noncontrolling interests in subsidiaries,-208.0,-311.0,-227.0
Payments for buy-outs of noncontrolling interests in subsidiaries,-35.0,-9.0,-6.0
Net cash provided by financing activities,9973.0,1529.0,574.0
Effect of exchange rate changes on cash and cash equivalents and restricted cash,334.0,8.0,-23.0
Net increase in cash and cash equivalents and restricted cash,13118.0,2506.0,312.0
"Cash and cash equivalents and restricted cash, beginning of period",6783.0,4277.0,3965.0
"Cash and cash equivalents and restricted cash, end of period",19901.0,6783.0,4277.0
Equity issued in connection with business combination,0.0,207.0,0.0
Acquisitions of property and equipment included in liabilities,1088.0,562.0,249.0
Estimated fair value of facilities under build-to-suit leases,0.0,0.0,94.0
"Cash paid during the period for interest, net of amounts capitalized",444.0,455.0,381.0
"Cash paid during the period for taxes, net of refunds",115.0,54.0,35.0
