Statement of Equity,Total,2.00% Convertible Senior Notes due in 2024 [Member],May 2019 Public Offering [Member],Redeemable Noncontrolling Interests [Member],Common Stock [Member],"Common Stock [Member] 
May 2019 Public Offering [Member]",Additional Paid-In Capital [Member],"Additional Paid-In Capital [Member] 
2.00% Convertible Senior Notes due in 2024 [Member]","Additional Paid-In Capital [Member] 
May 2019 Public Offering [Member]",Accumulated Deficit [Member],Accumulated Other Comprehensive Income (Loss) [Member],Total Stockholder's Equity [Member],"Total Stockholder's Equity [Member] 
2.00% Convertible Senior Notes due in 2024 [Member]","Total Stockholder's Equity [Member] 
May 2019 Public Offering [Member]",Noncontrolling Interests in Subsidiaries [Member]
"Balance at Dec. 31, 2017",5234.0,0.0,0.0,398.0,1.0,0.0,9177.0,0.0,0.0,-4974.0,33.0,4237.0,0.0,0.0,997.0
"Balance (Accounting Standards Update No. 2014-09 [Member]) at Dec. 31, 2017",534.0,0.0,0.0,8.0,0.0,0.0,0.0,0.0,0.0,623.0,0.0,623.0,0.0,0.0,-89.0
"Balance (Accounting Standards Update No. 2017-05 [Member]) at Dec. 31, 2017",9.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,9.0,0.0,9.0,0.0,0.0,0.0
"Balance, shares at Dec. 31, 2017",0.0,0.0,0.0,0.0,844.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Exercises of conversion feature of convertible senior notes,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
"Exercises of conversion feature of convertible senior notes, Shares",0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Issuance of common stock for equity incentive awards,296.0,0.0,0.0,0.0,0.0,0.0,296.0,0.0,0.0,0.0,0.0,296.0,0.0,0.0,0.0
"Issuance of common stock for equity incentive awards, Shares",0.0,0.0,0.0,0.0,18.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Stock-based compensation,775.0,0.0,0.0,0.0,0.0,0.0,775.0,0.0,0.0,0.0,0.0,775.0,0.0,0.0,0.0
Contributions from noncontrolling interests,161.0,0.0,0.0,276.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,161.0
Distributions to noncontrolling interests,-210.0,0.0,0.0,-61.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-210.0
Other,0.0,0.0,0.0,-3.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Net income (loss),-1001.0,0.0,0.0,-62.0,0.0,0.0,0.0,0.0,0.0,-976.0,0.0,-976.0,0.0,0.0,-25.0
Other comprehensive income (loss),-41.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-41.0,-41.0,0.0,0.0,0.0
"Balance at Dec. 31, 2018",5757.0,0.0,0.0,556.0,1.0,0.0,10248.0,0.0,0.0,-5318.0,-8.0,4923.0,0.0,0.0,834.0
"Balance (Accounting Standards Update No. 2016-02 [Member]) at Dec. 31, 2018",97.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,97.0,0.0,97.0,0.0,0.0,0.0
"Balance, shares at Dec. 31, 2018",0.0,0.0,0.0,0.0,863.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Conversion feature of Convertible Senior Notes,0.0,491.0,0.0,0.0,0.0,0.0,0.0,491.0,0.0,0.0,0.0,0.0,491.0,0.0,0.0
Purchase of convertible note hedges,-476.0,0.0,0.0,0.0,0.0,0.0,-476.0,0.0,0.0,0.0,0.0,-476.0,0.0,0.0,0.0
Sales of warrants,174.0,0.0,0.0,0.0,0.0,0.0,174.0,0.0,0.0,0.0,0.0,174.0,0.0,0.0,0.0
"Issuance of common stock for equity incentive awards and acquisitions, net of transaction costs",482.0,0.0,0.0,0.0,0.0,0.0,482.0,0.0,0.0,0.0,0.0,482.0,0.0,0.0,0.0
"Issuance of common stock upon acquisition and equity incentive awards, net of transaction costs, Shares",0.0,0.0,0.0,0.0,24.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Issuance of common stock public offering,0.0,0.0,848.0,0.0,0.0,0.0,0.0,0.0,848.0,0.0,0.0,0.0,0.0,848.0,0.0
"Issuance of common stock public offering, shares",0.0,0.0,0.0,0.0,0.0,18.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Stock-based compensation,973.0,0.0,0.0,0.0,0.0,0.0,973.0,0.0,0.0,0.0,0.0,973.0,0.0,0.0,0.0
Contributions from noncontrolling interests,174.0,0.0,0.0,105.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,174.0
Distributions to noncontrolling interests,-198.0,0.0,0.0,-65.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-198.0
Other,-4.0,0.0,0.0,-1.0,0.0,0.0,-4.0,0.0,0.0,0.0,0.0,-4.0,0.0,0.0,0.0
Net income (loss),-823.0,0.0,0.0,48.0,0.0,0.0,0.0,0.0,0.0,-862.0,0.0,-862.0,0.0,0.0,39.0
Other comprehensive income (loss),-28.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-28.0,-28.0,0.0,0.0,0.0
"Balance at Dec. 31, 2019",7467.0,0.0,0.0,643.0,1.0,0.0,12736.0,0.0,0.0,-6083.0,-36.0,6618.0,0.0,0.0,849.0
"Balance (Accounting Standards Update No. 2016-13 [Member]) at Dec. 31, 2019",-37.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-37.0,0.0,-37.0,0.0,0.0,0.0
"Balance, shares at Dec. 31, 2019",0.0,0.0,0.0,0.0,905.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Reclassification between equity and mezzanine equity for convertible senior notes,-51.0,0.0,0.0,0.0,0.0,0.0,-51.0,0.0,0.0,0.0,0.0,-51.0,0.0,0.0,0.0
Exercises of conversion feature of convertible senior notes,59.0,0.0,0.0,0.0,0.0,0.0,59.0,0.0,0.0,0.0,0.0,59.0,0.0,0.0,0.0
"Exercises of conversion feature of convertible senior notes, Shares",0.0,0.0,0.0,0.0,2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Issuance of common stock for equity incentive awards,417.0,0.0,0.0,0.0,0.0,0.0,417.0,0.0,0.0,0.0,0.0,417.0,0.0,0.0,0.0
"Issuance of common stock for equity incentive awards, Shares",0.0,0.0,0.0,0.0,19.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Issuance of common stock public offering,12269.0,0.0,0.0,0.0,0.0,0.0,12269.0,0.0,0.0,0.0,0.0,12269.0,0.0,0.0,0.0
"Issuance of common stock public offering, shares",0.0,0.0,0.0,0.0,34.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
Stock-based compensation,1861.0,0.0,0.0,0.0,0.0,0.0,1861.0,0.0,0.0,0.0,0.0,1861.0,0.0,0.0,0.0
Contributions from noncontrolling interests,17.0,0.0,0.0,7.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,17.0
Distributions to noncontrolling interests,-132.0,0.0,0.0,-67.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-132.0
Buy-outs of noncontrolling interests,-31.0,0.0,0.0,-4.0,0.0,0.0,-31.0,0.0,0.0,0.0,0.0,-31.0,0.0,0.0,0.0
Net income (loss),837.0,0.0,0.0,25.0,0.0,0.0,0.0,0.0,0.0,721.0,0.0,721.0,0.0,0.0,116.0
Other comprehensive income (loss),399.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,399.0,399.0,0.0,0.0,0.0
"Balance at Dec. 31, 2020",23075.0,0.0,0.0,604.0,1.0,0.0,27260.0,0.0,0.0,-5399.0,363.0,22225.0,0.0,0.0,850.0
"Balance, shares at Dec. 31, 2020",0.0,0.0,0.0,0.0,960.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0
